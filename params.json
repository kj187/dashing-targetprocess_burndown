{"name":"TargetProcess Burndown","tagline":"TargetProcess Burndown widget for Dashing-JS","body":"# TargetProcess burndown widget\r\n\r\nAuthor: [Julian Kleinhans](https://github.com/kj187) Â· Blog: [http://blog.kj187.de](http://blog.kj187.de)\r\n\r\n[Dashing-JS](https://github.com/fabiocaseri/dashing-js) is a NodeJS port of [Dashing](http://dashing.io/), an Sinatra based framework that lets you build beautiful dashboards.\r\n\r\nThe [TargetProcess](https://www.targetprocess.com/) burndown widget is a graphical representation of work left to do versus time. \r\nDue to the fact that TargetProcess doesn`t provide an API for reports like a burndown chart, we will use a other smart technologie - screenshots :-) The npm package [\"webshot\"](https://www.npmjs.com/package/webshot) provides a simple API for taking webpage screenshots. So, all you need is a TargetProcess dashboard with a configured burndown chart. \r\n \r\n## Preview \r\n\r\n![TargetProcess burndown widget](http://res.cloudinary.com/kj187/image/upload/v1453148859/targetprocess_burndown_d9l50d.png)\r\n\r\n## Requirements\r\n\r\n[Dashing-JS](https://github.com/fabiocaseri/dashing-js)\r\n```ssh\r\n$ npm install -g dashing-js\r\n```\r\n\r\nWidget dependencies\r\n```shell\r\n$ npm install tp-api\r\n$ npm install cron\r\n$ npm install webshot\r\n$ npm install btoa\r\n```\r\n\r\nYou need also PhantomJS in version 2.x, the dependency version of webshot is 1.x and this version has a bug regarding\r\nSVG images. You can install PhantomJS 2.x as the following:\r\n\r\nFurthermore a TargetProcess dashboard with a configured burndown chart is required!\r\n\r\n```\r\ncd /tmp\r\nwget https://github.com/kj187/phantomjs-2.0.0-linux-x86_64/raw/master/phantomjs-2.0.0-linux-x86_64.tar.bz2 \r\ntar -jxf phantomjs-2.0.0-linux-x86_64.tar.bz2\r\nsudo cp /tmp/phantomjs-2.0.0-linux-x86_64/bin/phantomjs /usr/local/bin/\r\n```\r\n\r\n## Installation\r\n```shell\r\n$ dashing-js install https://github.com/kj187/dashing-targetprocess_burndown/archive/master.zip\r\n```\r\nCreate a new directory `config` on your root directory.\r\nMove the `widgets/targetprocess_burndown/config.targetprocess_burndown.sample.js` file to this directory and rename it to `config.targetprocess_burndown.js`.\r\n \r\n```\r\nassets/\r\n  ...\r\nconfig/\r\n  config.targetprocess_burndown.js\r\n  ...\r\ndashboards/\r\n  ...\r\njobs/\r\n  ...\r\n...\r\n```\r\n\r\n## Usage\r\nTo include the widget on your dashboard, add the following snippet to the dashboard layout file:\r\n\r\n```html\r\n<li data-row=\"1\" data-col=\"1\" data-sizex=\"1\" data-sizey=\"1\">\r\n  <div data-id=\"targetprocess_burndown\" data-view=\"TargetprocessBurndown\"></div>\r\n</li>\r\n```\r\nOr if you use Jade as your favorite template engine \r\n```jade\r\nli(data-row='1', data-col='1', data-sizex='1', data-sizey='1')\r\n  div(data-id='targetprocess_burndown', data-view='TargetprocessBurndown', class='widget')\r\n```\r\n\r\n## Settings\r\n\r\n```javascript\r\nmodule.exports = {\r\n\r\n    eventName: 'targetprocess_burndown',\r\n    cronInterval: '1 * * * * *',\r\n    publicLocalImagePath: 'images/burndown/iteration_burndown.png',\r\n    \r\n    client: {\r\n        host: 'www.host.com/',\r\n        protocol: 'https',\r\n        pathToBurnDown: 'RestUI/Board.aspx?acid=12345#page=dashboard/12345&appConfig=12345==',\r\n        username:'targetProcessUsername',\r\n        password: 'targetProcessPasswordUnfortunatelyInPlaintext'\r\n    },\r\n    \r\n    options: {\r\n        quality: 100,\r\n        renderDelay: 7000,\r\n        screenSize: {\r\n            width: 1600,\r\n            height: 768\r\n        },\r\n        phantomPath: '/usr/local/bin/phantomjs',\r\n        captureSelector: '#dashboard-column-0 svg',\r\n        customCSS: '.burnDownReport svg{background:#999!important}.burnDownReport svg text{font-size:14px!important;fill:#000!important}.burnDownReport .xLabel{fill:#000!important}.burnDownReport line.xLine,line.xAxis,line.yAxis,line.yLine{stroke:#B9B9B9!important;stroke-width:1!important}.burnDownReport line.idealLine{stroke:green!important;stroke-width:5px!important;stroke-dasharray:15,5!important}.burnDownReport line.lineChart{stroke:#000!important;stroke-linecap:round!important;stroke-width:6px!important}.burnDownReport circle.lineChartPoint{stroke:#000!important;fill:#000!important;stroke-width:4px!important}'\r\n    }\r\n}\r\n```\r\n\r\n### Global settings\r\n| Setting       | Example              | Description                |\r\n| ------------- |----------------------| ---------------------------|\r\n| eventName     | github_pullrequests  | Event name, must be the same as the `data-id` attribute |\r\n| cronInterval     | 1 * * * * *  | Click [here](https://github.com/ncb000gt/node-cron) for available cron patterns |\r\n| publicLocalImagePath     | images/burndown/iteration_burndown.png | Subdirectory of `public/` directory |\r\n\r\n### client settings\r\n| Setting       | Example              | Description                |\r\n| ------------- |----------------------| ---------------------------|\r\n| host     | www.host.com  | Host of your TargetProcess |\r\n| protocol     | https  | Http or https |\r\n| pathToBurnDown     | RestUI/Board.aspx?acid=12345#page=dashboard/12345&appConfig=12345==  | Path to the page where the burndown widget is |\r\n| username     | julian.kleinhans  | Username for authentification |\r\n| password     | xxxxxxx  | Password for authentification. Unfortunately this must be an plaintext password |\r\n\r\n### options settings\r\nYou can use all [webshot](https://github.com/brenden/node-webshot) options.\r\n\r\n| Setting       | Example              | Description                |\r\n| ------------- |----------------------| ---------------------------|\r\n| quality     | 100  | JPEG compression quality. A higher number will look better, but creates a larger file. Quality setting has no effect when streaming |\r\n| renderDelay     | 7000  | Number of milliseconds to wait after a page loads before taking the screenshot |\r\n| screenSize     | { width: 1600, height: 768 }  | The dimensions of the browser window |\r\n| phantomPath     | /usr/local/bin/phantomjs  | The location of PhantomJS 2.x |\r\n| captureSelector     | #dashboard-column-0 svg  | Captures the page area containing the provided selector and saves it to file |\r\n| customCSS     | .burnDownReport svg{background:#999!important} ...  | When taking the screenshot, adds custom CSS rules if defined |\r\n\r\n### Layout\r\n\r\nIf you want to change the layout, adjust the follwing style, use https://cssminifier.com to convert the styles to a one-liner and\r\nadd this one-liner to the customCSS option.\r\n\r\n```\r\n .burnDownReport svg {\r\n\tbackground: #999999 !important;\r\n}\r\n\r\n .burnDownReport svg text {\r\n\tfont-size: 14px !important;\r\n\tfill: #000 !important;\r\n}\r\n\r\n .burnDownReport .xLabel {\r\n\tfill: #000000 !important;\r\n}\r\n\r\n .burnDownReport line.xLine, line.xAxis, line.yAxis, line.yLine {\r\n\tstroke: #B9B9B9 !important;\r\n\tstroke-width: 1 !important;\r\n}\r\n\r\n .burnDownReport line.idealLine {\r\n\tstroke: #008000 !important;\r\n\tstroke-width: 5px !important;\r\n\tstroke-dasharray: 15,5 !important;\r\n}\r\n\r\n .burnDownReport line.lineChart {\r\n\tstroke: #000000 !important;\r\n\tstroke-linecap: round !important;\r\n\tstroke-width: 6px !important;\r\n}\r\n\r\n .burnDownReport circle.lineChartPoint {\r\n\tstroke: #000000 !important;\r\n\tfill: #000000 !important;\r\n\tstroke-width: 4px !important;\r\n}\r\n```\r\n\r\n\r\n## Changelog\r\n\r\n### release-1.0.0\r\n* First release\r\n\r\n## Other Dashing-JS widgets\r\nDo you know that I also created some other Dashing-JS widgets? Try out\r\n\r\n* [Jenkins Job widget](http://kj187.github.io/dashing-jenkins_job/)\r\n* [Meeting Reminder widget](http://kj187.github.io/dashing-reminder)\r\n* [GitHub PullRequest widget](http://kj187.github.io/dashing-github_pullrequests/)\r\n* [TargetProcess Impediments widget](http://kj187.github.io/dashing-targetprocess_impediments/)\r\n* [TargetProcess Sprint widget](http://kj187.github.io/dashing-targetprocess_sprint/)\r\n* [TargetProcess Burndown widget](http://kj187.github.io/dashing-targetprocess_burndown/)\r\n","google":"UA-71424242-5","note":"Don't delete this file! It's used internally to help with page regeneration."}